{% extends 'base.html' %}

{% block title %}Tableau de bord - {{ user.get_role_display }}{% endblock %}

{% block content %}
<div class="container">
    <div class="row mb-4">
        <div class="col">
            <h1 class="display-4">
                <i class="fas fa-tachometer-alt text-primary me-2"></i>
                Tableau de bord
                <small class="text-muted">{{ user.get_role_display }}</small>
            </h1>
        </div>
    </div>

    {% if user.is_admin %}
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-users-cog me-2"></i>Gestion des Utilisateurs
                    </h3>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'accounts:register' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-user-plus me-2"></i>Créer un nouvel utilisateur
                        </a>
                        <a href="{% url 'admin:accounts_user_changelist' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-users me-2"></i>Gérer les utilisateurs existants
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    {% if user.is_directeur_adjoint or user.is_chef_departement %}
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-header bg-info text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-graduation-cap me-2"></i>Formations
                    </h3>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'formations:liste_formations' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-list me-2"></i>Liste des formations
                        </a>
                        <a href="{% url 'formations:creer_formation' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-plus me-2"></i>Nouvelle formation
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-book me-2"></i>Cours
                    </h3>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'cours:liste_cours' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-list me-2"></i>Liste des cours
                        </a>
                        <a href="{% url 'cours:recapitulatif_cours' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-file-alt me-2"></i>Récapitulatif des cours
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    {% if user.is_enseignant %}
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-book me-2"></i>Mes Cours
                    </h3>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'cours:mes_cours' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-list me-2"></i>Liste de mes cours
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-info text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-calendar-alt me-2"></i>Mes Séances
                    </h3>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'seances:liste_seances' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-history me-2"></i>Historique des séances
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    {% if user.is_responsable_classe %}
    <div class="row">
        <div class="col-md-12 mb-4">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-book me-2"></i>Gestion du Cahier de Texte
                    </h3>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{% url 'seances:liste_seances' %}" class="list-group-item list-group-item-action">
                            <i class="fas fa-list me-2"></i>Liste des séances à remplir
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
