{% extends 'base.html' %}

{% block title %}Créer une séance{% endblock %}

{% block content %}
<div class="container">
    <h2 class="mb-4">Créer une nouvelle séance</h2>
    
    <form method="post" class="needs-validation" novalidate>
        {% csrf_token %}
        
        {% if form.errors %}
        <div class="alert alert-danger">
            <h4>Veuillez corriger les erreurs suivantes :</h4>
            {{ form.errors }}
        </div>
        {% endif %}
        
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="{{ form.cours.id_for_label }}" class="form-label">Cours</label>
                {{ form.cours }}
                {% if form.cours.errors %}
                <div class="invalid-feedback">{{ form.cours.errors }}</div>
                {% endif %}
            </div>
            
            <div class="col-md-6 mb-3">
                <label for="{{ form.titre.id_for_label }}" class="form-label">Titre</label>
                {{ form.titre }}
                {% if form.titre.errors %}
                <div class="invalid-feedback">{{ form.titre.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-4 mb-3">
                <label for="{{ form.date.id_for_label }}" class="form-label">Date</label>
                {{ form.date }}
                {% if form.date.errors %}
                <div class="invalid-feedback">{{ form.date.errors }}</div>
                {% endif %}
            </div>
            
            <div class="col-md-4 mb-3">
                <label for="{{ form.heure_debut.id_for_label }}" class="form-label">Heure de début</label>
                {{ form.heure_debut }}
                {% if form.heure_debut.errors %}
                <div class="invalid-feedback">{{ form.heure_debut.errors }}</div>
                {% endif %}
            </div>
            
            <div class="col-md-4 mb-3">
                <label for="{{ form.heure_fin.id_for_label }}" class="form-label">Heure de fin</label>
                {{ form.heure_fin }}
                {% if form.heure_fin.errors %}
                <div class="invalid-feedback">{{ form.heure_fin.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="mb-3">
            <label for="{{ form.salle.id_for_label }}" class="form-label">Salle</label>
            {{ form.salle }}
            {% if form.salle.errors %}
            <div class="invalid-feedback">{{ form.salle.errors }}</div>
            {% endif %}
        </div>
        
        <div class="mb-3">
            <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
            {{ form.description }}
            {% if form.description.errors %}
            <div class="invalid-feedback">{{ form.description.errors }}</div>
            {% endif %}
        </div>
        
        <div class="mb-3">
            <label for="{{ form.contenu.id_for_label }}" class="form-label">Contenu</label>
            {{ form.contenu }}
            {% if form.contenu.errors %}
            <div class="invalid-feedback">{{ form.contenu.errors }}</div>
            {% endif %}
        </div>
        
        <div class="d-flex justify-content-between">
            <a href="{% url 'seances:liste_seances' %}" class="btn btn-secondary">Annuler</a>
            <button type="submit" class="btn btn-primary">Créer la séance</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
// Ajouter les classes Bootstrap aux champs du formulaire
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const inputs = form.querySelectorAll('input, select, textarea');
    inputs.forEach(input => {
        input.classList.add('form-control');
    });
});
</script>
{% endblock %} 